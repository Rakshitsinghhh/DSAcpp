class Solution {
public:
    string freqAlphabets(string s) {
        vector<char> atoi(9);   // a to i
        vector<char> jtoz(17);  // j to z (10# to 26#)
        string ans;

        int a = 97; // 'a'
        for (int i = 0; i < 9; i++) {
            atoi[i] = (char)a;
            a++;
        }

        int j = 106; // 'j'
        for (int i = 0; i < 17; i++) {
            jtoz[i] = (char)j;
            j++;
        }

        int n = s.size();
        for (int i = n - 1; i >= 0; ) {
            if (s[i] == '#') {
                string num = s.substr(i - 2, 2); // two digits before #
                int val = stoi(num);
                ans += jtoz[val - 10]; // map 10–26
                i -= 3;
            } else {
                int val = s[i] - '0';
                ans += atoi[val - 1]; // map 1–9
                i--;
            }
        }
        reverse(ans.begin(), ans.end());
        return ans;
    }
};
